<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp mô tả điện thoại</title>
</head>
<body>

</body>
</html>
<script>
    class Mobile{
        battery
        draf=[]
        inbox=[]
        sent=[]
        isOn
        constructor(p,draf,mDen,mDi,isOn) {
            this.battery=p
           if(draf!=''&&draf!=null){
               this.draf.push(draf)
           }
           if(mDen!=''&&mDen!=null){
               this.inbox.push(mDen)

           }
           if(mDi!=''&&mDi!=null){
               this.sent.push(mDi)
           }
            this.isOn=isOn
        }
        checkOnOff(){
            this.battery--
            if(this.isOn){
                return "Máy đang bật"
            }else return 'Máy đang tắt'
        }
        onOff(){
            if(this.isOn){
                this.isOn=false
            }else if(this.battery>0){
                this.isOn=true
            }
        }
        charge(a){
            if(a>0)  this.battery+=a
        }
        typeM(m){
            if(this.isOn){
                this.reduceB()
                this.draf.push(m)
            }
        }
        receiveM(m){
            if(this.isOn){
                this.reduceB()
                this.inbox.push(m)
            }
        }
        sentM(ob,i){
            if(this.isOn){
                this.reduceB()
                ob.inbox.push(this.draf[i])
                this.sent.push(this.draf[i])
                this.draf.splice(i,1)
            }
        }
        showInbox(){
            if(this.isOn){
                this.reduceB()
                return "Hộp thư đến :   "+this.inbox.join(" ;  ")
            }
        }
        showSent(){
           if(this.isOn){
               this.reduceB()
               return +console.log("Thư đã gửi :     "+this.sent.join(' ;  '))
           }
        }
        reduceB(){
            if(this.isOn){
                this.battery--
                if(this.battery===0){
                    this.isOn=false
                }
            }

        }
    }
    let Iphone =new Mobile(31,null,null,null,false)
    Iphone.onOff()
    let VSmart=new Mobile(10,'','','',false)
    VSmart.onOff()


    Iphone.typeM('xin chao')
    Iphone.typeM('Toi la Hau')
    Iphone.typeM('hahahahahahaha')

    Iphone.sentM(VSmart,0)
    Iphone.sentM(VSmart,0)
    console.log(Iphone.draf)
    console.log(VSmart.showInbox())
    Iphone.showSent()

</script>